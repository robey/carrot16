<!DOCTYPE html>
<html>
  <head>
    <title>DCPU-16 emulator</title>
    <script type="text/javascript" src="js/jquery-1.8.3.js"></script>
    <script type="text/javascript" src="js/d16asm.js"></script>
    <script type="text/javascript" src="js/emulator.js"></script>
    <script type="text/javascript" src="lib/bunnyemu/ui.js"></script>

<!--
    <script type="text/javascript" src="js/common.js"></script>
    <script type="text/javascript" src="js/disassembler.js?v=1"></script>
    <script type="text/javascript" src="js/emulator.js?v=1"></script>
    <script type="text/javascript" src="js/clock.js?v=2"></script>
    <script type="text/javascript" src="js/screen.js?v=1"></script>
    <script type="text/javascript" src="js/keyboard.js?v=1"></script>
    <script type="text/javascript" src="js/fonts.js?v=1"></script>
  -->
    <link rel="stylesheet" href="css/bootstrap-2.2.2.css">
    <link rel="stylesheet" href="css/bunnyemu.css">
  </head>
  <body>
    <div id="header">
      <h3>bunnyemu: DCPU-16 IDE &amp; Emulator</h3>
    </div>

    <div class="noscroll" id="body">
      <div class="row-fluid main noscroll" id="box">
        <div class="span8 noscroll" id="left_panel">
          <div class="row-fluid" id="tab_row">
            <div class="span1"></div>
            <div class="span7 tabs">
              <a onclick="toggleTab(0)" class="tab pointer tab_active" id="tab0">Assembler</a>
              <a onclick="toggleTab(1)" class="tab pointer tab_inactive" id="tab1">Disassembler</a>
              <a onclick="toggleTab(2)" class="tab pointer tab_inactive" id="tab2">Memory Dump</a>
            </div>
            <div class="span4"></div>
          </div>
          <div class="row-fluid tab_content" id="tab0_content">
            <div class="span1 mono pointer linenums">
              <div>
                <span id="line_highlight"></span>
              </div>
              <div id="linenums">
                <span class="linenum" id="ln1">1</span>
                <span class="linenum breakpoint" id="ln2">2</span>
                <span class="linenum" id="ln3">3</span>
              </div>
            </div>
            <div class="span7 editor_div" id="codebox">
              <textarea class="mono editor" id="code" onkeyup="codeEdited()" onchange="codeEdited()" wrap=off spellcheck="false">
; your code here
SET A, 99
SET X, A
SUB PC, 1
SUB PC, 1
SUB PC, 1
SUB PC, 1
SUB PC, 1
SUB PC, 1
SUB PC, 1
SUB PC, 1
SUB PC, 1
SUB PC, 1
SUB PC, 1
SUB PC, 1
SUB PC, 1
SUB PC, 1
SUB PC, 1
SUB PC, 1
SUB PC, 1
SUB PC, 1
SUB PC, 1
SUB PC, 1
SUB PC, 1
SUB PC, 1
SUB PC, 1
SUB PC, 1
SUB PC, 1
SUB PC, 1
SUB PC, 1
SUB PC, 1
SUB PC, 1
SUB PC, 1
SUB PC, 1
SUB PC, 13
SUB PC, 12
SUB PC, 11
SUB PC, 10
SUB PC, 9
SUB PC, 8
SUB PC, 7
SUB PC, 6
SUB PC, 5
SUB PC, 4
SUB PC, 3
SUB PC, 2
SUB PC, 1
</textarea>
            </div>
            <div class="span1 mono linenums addr" id="offsets">
            </div>
            <div class="span3 mono dump" id="dump">
            </div>
          </div>
          <div class="row-fluid tab_content" id="tab1_content">
            <div class="span1 mono linenums">
            </div>
            <div class="span4 editor_div">
              <textarea class="mono editor" id="da_input" onkeyup="disassemble()" onchange="disassemble()" wrap=off spellcheck="false">
              </textarea>
            </div>
            <div class="span1 mono linenums addr" id="da_lines">
            </div>
            <div class="span6 mono dump" id="da_code">
            </div>
          </div>
          <div class="row-fluid tab_content" id="tab2_content" onscroll="updateMemoryView()">
            <div id="md_view">
              <div class="span1 mono linenums" id="md_lines">
              </div>
              <div class="span7 mono editor_div" id="md_dump">
              </div>
              <div class="span1 mono linenums addr" id="md_unused">
              </div>
              <div class="span3 mono dump" id="md_code">
              </div>
            </div>
          </div>
        </div>
        <div class="span4 noscroll">
          <div class="screen_frame">
            <canvas id="screen" width="384" height="288"></canvas>
            <img id="loading_overlay" src="images/nya-elek.png" width="384" height="288" />
          </div>
          <div class="notice">Keyboard input is available while the program is running.</div>
          <div class="row-fluid buttons">
            <div class="span3">
              <button onclick="run(this)" id="button_run">&#8595; Run (F5)</button>
            </div>
            <div class="span3">
              <button onclick="step()">&#8618; Step (F6)</button>
            </div>
            <div class="span3">
              <button onclick="reset()">&#8634; Reset (F4)</button><br/>
            </div>
          </div>

          <div class="registers">
            <h4>Registers:</h4>
            <table border=0 class="mono">
              <tr>
                <td class="reg_name">PC:</td><td id="regPC" class="cur_pc">0</td>
                <td class="reg_name">SP:</td><td id="regSP" class="cur_sp">0</td>
                <td class="reg_name">IA:</td><td id="regIA" class="cur_ia">0</td>
              </tr>
              <tr>
                <td class="reg_name">A:</td><td id="regA">0</td>
                <td class="reg_name">B:</td><td id="regB">0</td>
                <td class="reg_name">C:</td><td id="regC">0</td>
              </tr>
              <tr>
                <td class="reg_name">X:</td><td id="regX">0</td>
                <td class="reg_name">Y:</td><td id="regY">0</td>
                <td class="reg_name">Z:</td><td id="regZ">0</td>
              </tr>
              <tr>
                <td class="reg_name">I:</td><td id="regI">0</td>
                <td class="reg_name">J:</td><td id="regJ">0</td>
              </tr>
              <tr>
                <td class="reg_name">EX:</td><td id="regEX">0</td>
                <td colspan=4 class="cycles"><span id="cycles">0</span> cycles</td>
              </tr>
            </table>
          </div>

          <div class="row-fluid">
            <button onclick="disassembleDump()" id="disassemble">Disassemble</button>
          </div>
        </div>
      </div>
      <div class="row-fluid log_frame">
        <div class="span12" id="log">
        </div>
      </div>
    </div>
  </body>
</html>
